(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[93039],{53578:function(a,b,c){"use strict";c.d(b,{q:function(){return f}});var d=c(17900),e=c(98283),f=function(a){return function(b){var c=b.insertText,f=b.insertData;return b.insertText=function(f){var g=d.ML.string(b,[]).length;a!==e.Z.characterLimit&&g>=a||c(f)},b.insertData=function(c){var g=d.ML.string(b,[]).length+c.getData("text/plain").replace(/\n/g,"").length;a!==e.Z.characterLimit&&g>=a||f(c)},b}}},77248:function(a,b,c){"use strict";c.d(b,{A:function(){return t}});var d=c(20348),e=c(10673),f=c(9016),g=c(76708),h=c.n(g),i=c(74046),j=c(89703),k=c(17900),l=c(68830),m=c(98283);function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function o(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){n(a,b,c[b])})}return a}function p(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var q={marks:{"mod+b":"bold","mod+i":"italic"},blocks:{"mod+1":"heading-four","mod+2":"heading-five","mod+3":"heading-six"},styles:{"mod+l":"left-align","mod+r":"right-align","mod+e":"center-align"}},r=function(a){var b=a.attributes,c=a.children,e=a.element,g=f.LIST_TYPES.includes(e.type),i="";if(f.STYLABLE_TYPES.includes(e.type))switch(e.style){case"center-align":i=g?"flex flex-col items-center":"text-center";break;case"left-align":i=g?"flex flex-col items-start":"text-left";break;case"right-align":i=g?"flex flex-col flex-wrap items-end":"text-right"}switch(e.type){case"heading-four":return(0,d.jsx)("h4",p(o({},b),{className:"".concat(i," ").concat(h()["rte-headers"]),children:c}));case"heading-five":return(0,d.jsx)("h5",p(o({},b),{className:"".concat(i," ").concat(h()["rte-headers"]),children:c}));case"heading-six":return(0,d.jsx)("h6",p(o({},b),{className:"".concat(i," ").concat(h()["rte-headers"]),children:c}));case"list-item":return(0,d.jsx)("li",p(o({},b),{className:"".concat(i),children:c}));case"bulleted-list":return(0,d.jsx)("ul",p(o({},b),{className:"".concat(i," ").concat(h()["rte-text"]," text-base"),children:c}));case"numbered-list":return(0,d.jsx)("ol",p(o({},b),{className:"".concat(i," ").concat(h()["rte-text"]," text-base"),children:c}));default:return(0,d.jsx)("p",p(o({},b),{className:"".concat(i," ").concat(h()["rte-text"]," !mb-2.5 !mt-0 text-base"),children:c}))}},s=function(a){var b=a.attributes,c=a.children,e=a.leaf;return e.bold&&(c=(0,d.jsx)("strong",{children:c})),e.italic&&(c=(0,d.jsx)("em",{children:c})),e.underlined&&(c=(0,d.jsx)("u",{children:c})),(0,d.jsx)("span",p(o({},b),{children:c}))},t=function(a){return function(b){var c=b.notepadPluginProps,g=b.notepadPluginPropsForNotesAndHighlights,h=(c||g).characterLimit,n=void 0===h?0:h,t=(0,l.ui)(),u=(0,j.useState)(!1),v=u[0],w=u[1];(0,j.useEffect)(function(){w(/Android/.test(navigator.userAgent))},[]);var x=(0,j.useCallback)(function(a){return(0,d.jsx)(e.AE,{children:(0,d.jsx)(r,o({},a))})},[]),y=(0,j.useCallback)(function(a){return(0,d.jsx)(s,o({},a))},[]),z=function(a){for(var c in q.marks)if((0,i.ZP)(c,a)){a.preventDefault();var d=q.marks[c];(0,f.toggleMark)(t,d);return}for(var e in q.blocks)if((0,i.ZP)(e,a)){a.preventDefault();var g=q.blocks[e];(0,f.toggleBlock)(t,g);return}for(var h in q.styles)if((0,i.ZP)(h,a)){a.preventDefault();var j=q.styles[h];(0,f.toggleStyle)(t,j);return}b.onKeyDown&&b.onKeyDown(a)},A=!!g,B="h-20 ".concat(A?"":"border-solid border-gray-300 dark:border-gray-A200"," ").concat((null==c?void 0:c.fullScreen)?"flex-grow border-0 border-t border-b":A?"":"resize-y border","   overflow-y-auto py-3 px-2 ").concat((null==c?void 0:c.mode)==="edit"||(null==c?void 0:c.active)?"":A?"":"cursor-pointer");return(0,d.jsx)(a,p(o({},b),{className:B,placeholder:(null==c?void 0:c.placeholder)||(null==g?void 0:g.placeholder),onKeyDown:z,renderLeaf:y,readOnly:(null==c?void 0:c.mode)==="edit"||(null==c?void 0:c.renderMode)==="editor"||v,renderElement:x,onDOMBeforeInput:function(a){if(n!==m.Z.characterLimit&&("insertText"===a.inputType||"insertFromPaste"===a.inputType)){var b,c,d,e,f,g=a.data||(null===(b=a.dataTransfer)|| void 0===b?void 0:b.getData("text/plain"));if(g){var h=[(null===(c=t.selection)|| void 0===c?void 0:null===(d=c.anchor)|| void 0===d?void 0:d.offset)||0,(null===(e=t.selection)|| void 0===e?void 0:null===(f=e.focus)|| void 0===f?void 0:f.offset)||0,].sort(),i=k.ML.string(t,[]);(i.substring(0,h[0])+g+i.substring(h[1])).length>n&&a.preventDefault()}}}}))}}},271:function(a,b,c){"use strict";c.r(b),c.d(b,{vsDark:function(){return e},vsLight:function(){return f}});var d=[{token:"type",foreground:"3DC9B0"},{foreground:"ff628c",token:"constant"},{foreground:"55a1e0",token:"keyword"},{foreground:"8B949E",fontStyle:"italic",token:"comment"},{foreground:"ffee80",token:"meta.function-call"},{foreground:"ce9178",token:"string"},],e={name:"vsDark",config:{base:"vs-dark",inherit:!0,rules:d,colors:{"editor.foreground":"#FAFAFA","editor.background":"#282830","editor.selectionBackground":"#253B76","editorCursor.foreground":"#B0B0B0","editorWhitespace.foreground":"#717171"}},background:"#282830"},f={name:"vsLight",config:{base:"vs",inherit:!0,rules:d,colors:{"editor.foreground":"#000000","editor.background":"#FAFAFA","editor.selectionBackground":"#BAD6FD","editorCursor.foreground":"#2E2E2E","editorWhitespace.foreground":"#BFBFBF"}},background:"#FAFAFA"}},79648:function(a,b,c){"use strict";c.d(b,{Z:function(){return z},X:function(){return y}});var d,e=c(32176),f=c.n(e),g=c(20348),h=c(89703),i=c(82729),j=c(13673);function k(){return(k=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var l=function(a){return h.createElement("svg",k({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),d||(d=h.createElement("path",{d:"M8.79502 15.8749L4.62502 11.7049L3.20502 13.1149L8.79502 18.7049L20.795 6.70492L19.385 5.29492L8.79502 15.8749Z",fill:"current"})))},m=c(32388),n="icon-default py-2 m-1",o="text-black dark:text-dark-contrastText fill-current",p=function(a){var b=a.placement,c=a.disabled,d=a.popoverTitle,e=a.children,f=a.handleAccept,k=a.handleReject,p=a.deleted,q=a.rejectOnly,r=a.approveOnly,s=h.useRef(function(){}),t=function(){return s.current()},u=function(){f(),t()},v=function(){k(),t()},w=(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"flex w-full items-center justify-center",children:[(0,g.jsx)("span",{className:"font-bold text-black dark:text-primary-contrastText",children:p?"Delete: ":"Insert: "}),(0,g.jsx)("span",{className:"font-normal text-gray-800 dark:text-dark-contrastText",children:'"'.concat(d,'"')})]}),(0,g.jsx)("div",{className:"flex w-full items-center justify-center",children:void 0!==r&&r?(0,g.jsx)(i.default,{"aria-label":"approve-button",element:"button",onClick:function(){k(),t()},overlay:"Approve rejection",parentClasses:n,position:m.xRW,rootClose:!0,children:(0,g.jsx)(l,{className:o})}):(0,g.jsxs)(g.Fragment,{children:[!(void 0!==q&&q)&&(0,g.jsx)(i.default,{"aria-label":"accept-button",element:"button",onClick:u,overlay:"Accept suggestion",parentClasses:n,position:m.xRW,rootClose:!0,children:(0,g.jsx)(l,{className:o})}),(0,g.jsx)(i.default,{"aria-label":"reject-button",element:"button",onClick:v,overlay:"Reject suggestion",parentClasses:n,position:m.xRW,rootClose:!0,children:(0,g.jsx)(j.Z,{className:o})})]})})]});return(0,g.jsx)(i.default,{backgroundColor:"bg-white border-white dark:bg-dark-90 dark:border-dark-90",overlay:!c&&w,overlayParentClasses:"flex flex-col max-w-2xl mt-1 rounded shadow-xl space-y-2",padding:"px-3.5 py-2.5",parentClasses:"inline",position:b,rootClose:!0,setRef:function(a,b){return s.current=b},trigger:m.t4j,children:e})},q=c(46533),r=c(3497),s=c(44678);function t(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function u(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){t(f,d,e,g,h,"next",a)}function h(a){t(f,d,e,g,h,"throw",a)}g(void 0)})}}var v="INS",w="DEL",x="cursor-pointer whitespace-preline no-underline border border-solid p-0.5",y=function(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return Array.from((null==a?void 0:a.querySelectorAll("[data-diff='ed-del".concat(b?"-rendered":"","'], [data-diff='ed-ins").concat(b?"-rendered":"","']")))||[])},z=function(a){var b,d,e=a.text,h=a.type,i=a.enableDiffElements,j=void 0!==i&&i,k=a.updateContentState,l=void 0===k?function(){}:k,n=a.diffText,o=a.inTextDiff,t=a.dispatch,z=a.elemId,A=a.hash,B=void 0===A?null:A,C=a.isSlateHTML,D=void 0!==C&&C,E=a.config,F=function(a){return y(a).forEach(function(a){a.nodeName===w?H(a):I(a)}),a.innerHTML},G=function(a){return y(a).forEach(function(a){a.nodeName===w?I(a):H(a)}),a.innerHTML},H=function(a){a&&a.parentNode.replaceChild(a.childNodes[0],a)},I=function(a){a&&a.parentNode.removeChild(a)},J=function(a){var b=a[z];if(b.nodeName===v){if(z<=0)return;var c=a[z-1];if(c.nodeName===w&&b.previousSibling===c)return c}if(b.nodeName===w){if(z>=a.length-1)return;var d=a[z+1];if(d.nodeName===v&&b.nextSibling===d)return d}},K=(0,s.ix)(function(a){return a.widgets}),L=(0,s.ix)(function(a){return a.author.collectionArticle.data}),M=function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:m.qen.COLLECTION_LESSON,d=a?r.b4.ACCEPT:r.b4.REJECT,e=o?r.YI.FIELD:r.YI.WIDGET,f=document.createElement("div");f.innerHTML=n;var g={action:d,type:e};if(e===r.YI.WIDGET&&(g.hash=B,a?c===m.qen.COLLECTION_LESSON&&(g.component=L.components[K.ids.indexOf(B)]):g.component=K.entities[B]),e===r.YI.FIELD){var h=a?F(f):G(f);g.fieldTextBefore=h,g.fieldTextAfter=b,g.fieldUpdateFunction=l}t(r.F$.clearRedoHistory()),t(r.F$.addToUndoHistory(g))},N=(b=u(f().mark(function a(){var b,d,e,g,h,i,j;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if((b=document.createElement("div")).innerHTML=n,d=y(b),e=J(d),g=d[z],i=null!==(h=c.g.proofreadingWorkType)&& void 0!==h?h:m.qen.COLLECTION_LESSON,g.nodeName===v?(I(e),H(g)):(H(e),I(g)),j=F(b),M(!0,j,i),t(r.F$.setDirty(!0)),!o){a.next=14;break}return l({text:j,accept:!0}),a.abrupt("return");case 14:return a.next=16,t((0,r.zg)(B,!1));case 16:if(!D){a.next=21;break}return a.next=19,l({html:j.replace(/<br>/g,"<br/>")});case 19:a.next=23;break;case 21:return a.next=23,l({text:j,mdHtml:(0,q.markdownToHtml)(j)});case 23:return t(r.F$.incorporateWidget(B,i)),a.next=26,t((0,r.zg)(B,!0));case 26:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)}),O=(d=u(f().mark(function a(){var b,d,e,g,h,i,j;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if((b=document.createElement("div")).innerHTML=n,e=(d=y(b))[z],g=J(d),i=null!==(h=c.g.proofreadingWorkType)&& void 0!==h?h:m.qen.COLLECTION_LESSON,e.nodeName===w?(I(g),H(e)):(H(g),I(e)),j=G(b),M(!1,j,i),t(r.F$.setProofreadRejected()),!o){a.next=14;break}return l({text:j,accept:!1}),a.abrupt("return");case 14:if(!D){a.next=19;break}return a.next=17,l({html:j.replace(/<br>/g,"<br/>")});case 17:a.next=21;break;case 19:return a.next=21,l({text:j,mdHtml:(0,q.markdownToHtml)(j)});case 21:case"end":return a.stop()}},a)})),function(){return d.apply(this,arguments)}),P=(0,s.ix)(function(a){return a.author.proofread.data}),Q=e||"";if(D||(Q=e.replace(/ /g,"⎵")),Q=Q.replace(/\n/g,"\xb6"),!e)return(0,g.jsx)(g.Fragment,{});var R=h===w;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(p,{popoverTitle:e,deleted:R,handleAccept:function(){return N().catch(function(a){return console.error("Error:",a)})},handleReject:function(){return O().catch(function(a){return console.error("Error:",a)})},placement:"bottom",rejectOnly:(null==P?void 0:P.work_mode)===m.MOP.SUBMITTED_FOR_PROOFREAD,approveOnly:!!(null==E?void 0:E.approveOnly),disabled:!j,children:R?(0,g.jsx)("del",{"data-testid":"diff-delete","data-diff":"ed-del-rendered","data-id":z,className:"".concat(x," border-error dark:border-error-light"),dangerouslySetInnerHTML:{__html:Q}}):(0,g.jsx)("ins",{"data-testid":"diff-insert","data-diff":"ed-ins-rendered","data-id":z,className:"".concat(x," border-primary-success"),dangerouslySetInnerHTML:{__html:Q}})})})}},15597:function(a,b,c){"use strict";var d=c(28495),e=function(){return d.Z};b.Z=e},1767:function(a,b,c){"use strict";c.r(b),c.d(b,{HIGHLIGHT_SPAN_CLASS:function(){return a0},HIGHLIGHT_SPAN_CLASS_COMMENT:function(){return a1},HIGHLIGHT_VERSION:function(){return a3},default:function(){return a9}});var d,e,f=c(32176),g=c.n(f),h=c(20348),i=c(89703),j=c(55587),k=c.n(j),l=c(36927),m=c.n(l),n=c(80049),o=c(52774),p=c(56319),q=c(10128),r=c(41660),s=c(51323),t=c(62958),u=c(271),v=c(99544),w=c(82729);function x(){return(x=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var y=function(a){return i.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",height:20,width:20,fill:"currentColor"},a),d||(d=i.createElement("path",{d:"M7 15h6v-1.5H7Zm0-3h6v-1.5H7Zm-1.5 6q-.625 0-1.062-.438Q4 17.125 4 16.5v-13q0-.625.438-1.062Q4.875 2 5.5 2H12l4 4v10.5q0 .625-.438 1.062Q15.125 18 14.5 18ZM11 7V3.5H5.5v13h9V7ZM5.5 3.5v3.938V3.5v13-13Z"})))};function z(){return(z=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var A=function(a){return i.createElement("svg",z({width:18,height:20,viewBox:"0 0 16 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),e||(e=i.createElement("path",{d:"M15.667 19.168H2.333c-.916 0-1.666-.75-1.666-1.667s.75-1.667 1.666-1.667h13.334c.916 0 1.666.75 1.666 1.667s-.75 1.667-1.666 1.667ZM9.883 3.493l3.125 3.125L5.7 13.926a.806.806 0 0 1-.583.242h-1.95a.836.836 0 0 1-.834-.834v-1.95a.86.86 0 0 1 .242-.591l7.308-7.3ZM13.9 5.726l-3.125-3.125L12.3 1.076a.83.83 0 0 1 1.175 0l1.95 1.95a.83.83 0 0 1 0 1.175L13.9 5.726Z",fill:"currentColor"})))},B=c(18795),C=c(99471),D=c(17266),E=c(32388),F=c(82336),G=c.n(F),H=c(32210),I=c(64817),J=c(18293),K=c(47242),L=c(51398),M=c.n(L),N=c(94835),O=c(74143),P=function(a){var b=a.noteValue,c=a.timestamp,d=a.deleteButtonMeta,e=a.editButtonMeta,f=a.onButtonClick,g=a.waitingForWidgetsUserData,i=a.isDiscussionSelection,j=a.enableDiscussions,k=a.isPlan;return(0,h.jsxs)("div",{className:" min-w-[200px] max-w-[240px] sm:max-w-[480px]",children:[(0,h.jsx)("div",{className:"flex justify-end border-0 border-b border-solid border-gray-300 pr-3 dark:border-dark-60",children:(0,h.jsxs)(w.default,{id:d.id,onClick:function(){return f(d.payload,d.showDiscussion)},overlay:g?"":d.title,overlayParentStyles:{zIndex:100},parentClasses:"cursor-pointer duration-200 h-full inline-flex items-center justify-center px-1.5 py-3 text-gray-900 dark:text-gray-500 ",position:E.YS6,disable:g,children:[(0,h.jsx)(d.icon,{className:"h-5 w-5"}),(k||j&&i)&&(0,h.jsx)("span",{children:d.text})]},1)}),(0,h.jsxs)("div",{className:"pb-2 pl-4",children:[(0,h.jsxs)("div",{className:"".concat(M()["menu-text-preview"]," relative mb-3 mt-3.5 flex items-start overflow-y-auto whitespace-pre-line break-words border-t text-left"),children:[(0,h.jsx)("p",{className:"w-4/5 font-normal",style:{maxHeight:"8.7rem"},children:(0,h.jsx)(N.Z,{noteContent:b})}),(0,h.jsxs)(w.default,{className:"sticky top-1 ml-auto mr-4 cursor-pointer text-gray-900 dark:text-gray-500",id:e.id,onClick:function(){return f(e.payload,e.showDiscussion)},overlay:g?"":e.title,overlayParentStyles:{zIndex:100},parentClasses:"duration-200 h-full inline-flex items-center justify-center px-1.5 py-1.5",position:E.YS6,disable:g,children:[(0,h.jsx)(e.icon,{className:"h-5 w-5"}),(k||j&&i)&&(0,h.jsx)("span",{children:e.text})]},0)]},"0"),(0,h.jsx)("span",{className:"text-gray-A200 dark:text-gray-700",children:(0,O.Sy)(c)})]})]})},Q=P,R=c(74229),S=c(9016);function T(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function U(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function V(a){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function W(a,b){return(W=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var X=function(){return(0,h.jsx)("div",{className:"border border-r-0 border-solid border-gray-100 dark:border-gray-A400"})},Y=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&W(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=V(b);if(c){var h=V(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function e(a){!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),(b=d.call(this,a)).repositionDone=!1,b.noteValue=null,b.noteInput=i.createRef(),b.container=i.createRef(),b.reposition=function(){if(b.props.childRef.current){var a=b.props.childRef.current.getBoundingClientRect(),c=a.width,d=a.top,e=a.height,f=b.props.menuData.coords.bottom,g=!1;(d-64<0||b.props.menuData.touch)&&(f=f-e-30,g=!0),b.setState({left:b.props.menuData.coords.left&&Math.max(0,b.props.menuData.coords.left-c/2),right:b.props.menuData.coords.right&&Math.max(0,b.props.menuData.coords.right-c/2),bottom:f,revButtons:g})}},b.handleClose=function(){b.props.removeSelection?b.props.onHighlightRemove(b.props.menuData.selection):b.props.closeMenu()},b.handleHighlightCreate=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:null;b.props.onHighlightCreate(b.props.menuData.range,a)},b.handleHighlightEdit=function(a){b.props.onHighlightEdit(b.props.menuData.range,a)},b.onNoteChange=function(a){b.noteValue=a},b.handleComment=function(){var a=b.noteValue&&(0,S.getTextFromDescendantNodes)(b.noteValue)?JSON.stringify(b.noteValue):null;"edit"===b.state.showNote?b.handleHighlightEdit(a):"note"===b.state.showNote&&b.handleHighlightCreate(a)},b.handleNoteFormOpen=function(a){b.setState({showNote:a,showDiscussions:!1},function(){var a;null===(a=b.noteInput.current)|| void 0===a||a.focus()})},b.handleRemove=function(){return b.props.onHighlightRemove(b.props.menuData.range)},b.handleAskForHelpOpen=function(){var a,c,d=b.props.menuData.range.dataset?b.props.enableDiscussions?null===(a=b.props.selections[b.props.spanToMdChild[b.props.menuData.range.dataset.id]])|| void 0===a?void 0:a.filter(function(a){return a.id===b.props.menuData.range.dataset.id})[0].commentId:null===(c=b.props.selections[b.props.spanToMdChild[b.props.menuData.range.dataset.id]])|| void 0===c?void 0:c.filter(function(a){return a.id===b.props.menuData.range.dataset.id})[0].askForHelpId:null;return b.props.handleAskForHelp(b.props.menuData.range,d)},b.handleBtnClick=function(a,c){!b.props.waitingForWidgetsUserData&&({askForHelp:function(){b.setState({showNote:!0,showDiscussions:!0}),b.props.enableDiscussions&&b.context.show({startDiscussion:!c,startedBySelection:!0}),b.context.setSelection({})},edit:b.handleNoteFormOpen,highlight:function(){return b.handleHighlightCreate()},note:b.handleNoteFormOpen,remove:b.handleRemove})[a](a)},b.handleKeyPress=function(a){a.keyCode===G().codes.esc&&b.handleClose()};var b,c=a.menuData.range.dataset?a.selections[a.spanToMdChild[a.menuData.range.dataset.id]].filter(function(b){return b.id===a.menuData.range.dataset.id})[0].comment:null,f=a.menuData.range.dataset?a.selections[a.spanToMdChild[a.menuData.range.dataset.id]].filter(function(b){return b.id===a.menuData.range.dataset.id})[0].version:null;b.noteValue=c&&(0,K.L)(c,f);var g=a.menuData.range.dataset?a.selections[a.spanToMdChild[a.menuData.range.dataset.id]].filter(function(b){return b.id===a.menuData.range.dataset.id})[0].timestamp:null;return b.state={showNote:!1,showDiscussions:!1,timestamp:g,left:a.menuData.coords.left,right:a.menuData.coords.right,bottom:a.menuData.coords.bottom,edit:a.menuData.edit,revButtons:!1},b}var f=e.prototype;return f.componentDidMount=function(){this.reposition()},f.componentDidUpdate=function(a,b){var c=this;if(!0===this.repositionDone&&this.container.current.getBoundingClientRect().top<64&&(this.container.current.style.top="".concat(this.props.menuData.coords.parentTopPosition>0?30:Math.abs(this.props.menuData.coords.parentTopPosition)+this.props.menuData.coords.mouseY,"px")),!1===this.repositionDone&&(this.repositionDone=!0,this.reposition()),b.showNote!==this.state.showNote&&this.state.showNote){if(!this.container.current)return;var d=this.container.current.getBoundingClientRect(),e=d.height,f=d.width;this.setState({bottom:this.props.menuData.coords.bottom-(e-65),left:this.props.menuData.coords.left&&Math.max(0,this.props.menuData.coords.left-50),right:this.props.menuData.coords.right&&Math.max(0,this.props.menuData.coords.right-(f-50))})}if(!H.equals(a.menuData,this.props.menuData)){var g=this.props.menuData.range.dataset?this.props.selections[this.props.spanToMdChild[this.props.menuData.range.dataset.id]].filter(function(a){return a.id===c.props.menuData.range.dataset.id})[0].comment:null,h=this.props.menuData.range.dataset?this.props.selections[this.props.spanToMdChild[this.props.menuData.range.dataset.id]].filter(function(a){return a.id===c.props.menuData.range.dataset.id})[0].version:null;this.noteValue=g&&(0,K.L)(g,h),this.setState({showNote:!1,edit:this.props.menuData.edit,bottom:this.props.menuData.coords.bottom},function(){return c.reposition()})}},f.render=function(){var a,b,c=this,d=this.state,e=d.showNote,f=d.timestamp,g=d.left,i=d.right,j=d.bottom,k=d.edit,l=d.revButtons,m=this.props,n=m.childRef,o=m.isMentee,p=m.isPlan,q=m.menuData,r=m.selections,s=m.spanToMdChild,t=q.edit,u=q.isInsideConcept,v=this.context.value.loaded,x=!!q.range.dataset&&(null===(a=r[s[q.range.dataset.id]].filter(function(a){return a.id===q.range.dataset.id})[0])|| void 0===a?void 0:a.commentId),z=[k&&p&&{icon:function(a){var b=a.className;return(0,h.jsx)(D.Z,{className:"fill-current ".concat(b)})},id:E.FzT?"selenium-remove":null,payload:"askForHelp",showDiscussion:!0,text:this.props.enableDiscussions?"Discussion":"Ask For Help",title:this.props.enableDiscussions?"View Discussion":"View Blocker"},k&&!p&&!x&&{icon:function(a){var b=a.className,d=c.noteValue?C.Z:y;return(0,h.jsx)(d,{className:b})},id:E.FzT?"selenium-note-edit":null,payload:"edit",title:this.noteValue?"Edit note":"Add note"},k&&!p&&!this.noteValue&&!x&&{icon:function(a){var b=a.className;return(0,h.jsx)(B.Z,{className:b})},id:E.FzT?"selenium-remove-highlight":null,payload:"remove",title:"Remove highlight"},k&&!p&&!!this.noteValue&&{danger:!0,icon:function(a){var b=a.className;return(0,h.jsx)(B.Z,{className:b})},id:E.FzT?"selenium-remove-note":null,payload:"remove",title:"Remove note"},!k&&p&&(o||this.props.enableDiscussions)&&{icon:function(a){var b=a.className;return(0,h.jsx)(D.Z,{className:"fill-current ".concat(b)})},id:E.FzT?this.props.enableDiscussions?"selenium-discussion-start":"selenium-note":null,payload:"askForHelp",text:this.props.enableDiscussions?"Discussion":"Ask For Help",title:this.props.enableDiscussions?"Start Discussion":"I am Stuck"},!k&&!p&&{icon:function(a){var b=a.className;return(0,h.jsx)(A,{className:b})},id:E.FzT?"selenium-highlight":null,payload:"highlight",title:"Highlight"},!t&&!k&&!p&&{icon:function(a){var b=a.className;return(0,h.jsx)(y,{className:b})},id:E.FzT?"selenium-note":null,payload:"note",title:"Add a note"},(k&&x||!k)&&!p&&this.props.enableDiscussions&&v&&{icon:function(a){var b=a.className;return(0,h.jsx)(J.Z,{className:"".concat(b," fill-current")})},showDiscussion:!!k,id:E.FzT?"start-discussions":null,payload:"askForHelp",title:k?"Show Discussion":"Start a Discussion",text:x?" View Discussion":""},].filter(Boolean),F=[this.noteValue&&(0,h.jsx)(Q,{timestamp:f,noteValue:this.noteValue,deleteButtonMeta:z[1],editButtonMeta:z[0],onButtonClick:this.handleBtnClick,waitingForWidgetsUserData:this.props.waitingForWidgetsUserData,isPlan:p,isDiscussionSelection:x,enableDiscussions:this.props.enableDiscussions}),!this.noteValue&&Boolean(z.length)&&(0,h.jsx)("div",{className:"flex justify-center gap-px",children:z.map(function(a,b){var d=a.danger,e=a.icon,f=a.id,g=a.payload,i=a.text,j=a.title,k=a.showDiscussion,l="text-gray-900 dark:text-gray-500 ".concat(d?"dark:hover:text-error hover:text-error":"dark:hover:text-gray-200 hover:text-gray-A400");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(w.default,{id:f,onClick:function(){return c.handleBtnClick(g,k)},overlay:c.props.waitingForWidgetsUserData?"":j,overlayParentStyles:{zIndex:100},parentClasses:"cursor-pointer duration-200 h-full inline-flex items-center justify-center px-1.5 py-1.5 ".concat(l),position:E.YS6,disable:c.props.waitingForWidgetsUserData,children:[(0,h.jsx)(e,{className:"h-5 w-5"}),(p||c.props.enableDiscussions&&x)&&(0,h.jsx)("span",{children:i})]},b),b!==z.length-1&&(0,h.jsx)(X,{})]})})},"1"),];return(0,h.jsx)("div",{ref:function(a){c.container.current=a,"function"==typeof n?n(a):n&&(n.current=a)},className:"".concat(!g&&e?"sm:left-0 lg:left-auto":"").concat(!u&&e&&p?" sm:absolute":" absolute"," z-10"),style:{left:g,right:i,bottom:j},children:u?(0,h.jsx)("div",{className:"rounded bg-white py-2.5 shadow-md hover:bg-gray-100 dark:bg-dark-90 dark:hover:bg-gray-A400",children:(0,h.jsx)("p",{className:"p-2 text-base",children:"Cannot create highlight/note inside a concept"})}):(0,h.jsx)(h.Fragment,{children:e?p|| !p&&this.props.enableDiscussions&&this.state.showDiscussions?(0,h.jsx)("div",{className:"fixed left-0 z-20 h-auto w-screen select-none rounded bg-white shadow dark:bg-dark-90 sm:relative sm:bottom-[-85px] sm:w-[45vw] sm:min-w-[270px] sm:max-w-[480px]",children:this.handleAskForHelpOpen()}):(0,h.jsxs)("div",{className:"relative w-max select-none rounded bg-white shadow dark:bg-dark-70",style:{height:"210px"},children:[(0,h.jsx)("span",{className:"font-normal",children:(0,h.jsx)("div",{className:"w-[250px] sm:w-[480px]","data-testid":"edit-note",onKeyDown:this.handleKeyPress,children:(0,h.jsx)(K.Z,{characterLimit:R.sw,placeholder:"Add a note here...",onEditorValueChange:this.onNoteChange,initialEditorValue:this.noteValue})})}),(0,h.jsxs)("div",{className:"flex justify-end space-x-2 pr-2",children:[(0,h.jsx)("button",{className:"outlined-default rounded",onClick:this.handleClose,children:"CANCEL"}),(0,h.jsx)("button",{className:"contained-primary rounded",onClick:this.handleComment,children:"SAVE"})]})]}):(0,h.jsx)("div",{className:"rounded-sm border border-solid border-gray-200 bg-gray-50 shadow-md dark:border-gray-A100 dark:bg-dark-70",children:l?((function(a){if(Array.isArray(a))return T(a)})(b=F)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(b)||function a(b,c){if(b){if("string"==typeof b)return T(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return T(b,c)}}(b)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse():F})})})},e}(i.Component);Y.contextType=I.nZ;var Z=i.forwardRef(function(a,b){var c,d;return(0,h.jsx)(Y,(c=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){U(a,b,c[b])})}return a}({},a),d=(d={childRef:b},d),Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(d)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(d,a))}),c))}),$=c(36172),_=c(10673),aa=c(7760),ab=c(64889),ac=c(15597),ad=function(a){var b=a.word,c=a.meaning;return(0,h.jsx)(w.default,{backgroundColor:"bg-white border-white dark:bg-gray-400 dark:border-gray-400",element:"span",overlay:c,overlayParentClasses:"max-w-xs",overlayParentTextColorClasses:"text-black dark:text-dark-80",overlayParentTextClasses:"break-words font-serif leading-5 text-sm",overlayParentStyles:{minWidth:c.length>300&&"300px",zIndex:1e4},parentClasses:"border-0 border-b-2 border-solid border-black cursor-pointer dark:border-dark-contrastText",position:E.YS6,rootClose:!0,trigger:E.t4j,children:(0,h.jsx)("span",{dangerouslySetInnerHTML:{__html:b}})})},ae=c(39794),af=c(84375),ag=c(66017),ah=c(97239);function ai(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function aj(a){return(aj=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function ak(a,b){return(ak=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var al=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&ak(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=aj(b);if(c){var h=aj(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function e(){var a,b;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),a=d.apply(this,arguments),a.state={expanded:!1},a.toggleExpansion=function(){a.setState(function(a){return{expanded:!a.expanded}})},a.shouldDisplayConceptAsText=function(b){var c=a.props,d=c.conceptIdBacktrace,e=c.getConcepts,f=e(),g=f.loaded,h=f.concepts;return!g||h[b]&&d.includes(h[b].id)},a.getConceptId=function(c){var d,e;return null!==(b=null===(d=a.props.getConceptByName(c))|| void 0===d?void 0:null===(e=d.concept)|| void 0===e?void 0:e.id)&& void 0!==b?b:""},a.getConceptComponentsByName=function(b){var c=a.props,d=c.getConceptByName,e=c.authorId,f=c.collectionId,g=c.conceptIdBacktrace,i=c.isDraft,j=d(b),k=j.loaded,l=j.concept,m=j.error;return m?(0,h.jsxs)("span",{className:"italic text-gray-300",children:["(",m,")"]}):k?l?l.comps.map(function(a,c){var d;return(0,h.jsx)(ae.Z,{mode:"view",comp:a,allowComments:!1,authorId:e,collectionId:f,conceptId:l.id,conceptIdBacktrace:((function(a){if(Array.isArray(a))return ai(a)})(d=g)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(d)||function a(b,c){if(b){if("string"==typeof b)return ai(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return ai(b,c)}}(d)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([l.id]),isDraft:i},"concept_".concat(b,"_").concat(c+a.type))}):null:(0,h.jsx)(af.default,{})},a}return e.prototype.render=function(){var a=this.props,b=a.word,c=a.name,d=a.shouldDisableConcept,e=a.conceptIdBacktrace,f=this.state.expanded,g=d(c,e),i=this.shouldDisplayConceptAsText(c),j=this.getConceptId(c);return(0,h.jsxs)("span",{children:[(0,h.jsxs)("span",{className:i?"":g?"border border-solid border-error bg-error-lightP2 p-px dark:border-error-light dark:bg-gray-A700":"cursor-pointer font-bold",onClick:g?function(){}:this.toggleExpansion,id:E.FzT&&j?"text-for-".concat(j):null,children:[(0,h.jsx)("span",{dangerouslySetInnerHTML:{__html:b}}),!g&&(0,h.jsx)(ah.Z,{strokeWidth:3,className:"inline-block h-3.5 w-3.5 align-middle transition-all duration-200 ".concat(f?"rotate-90 -scale-x-100":"")})]}),f&&!g&&(0,h.jsx)("div",{className:"conceptBody boder-primary-light border border-solid",style:{margin:"5px 0px",padding:"5px"},children:this.getConceptComponentsByName(c)})]})},e}(i.Component),am=(0,ag.Z)(al),an=c(52279),ao=c(79648),ap=c(4396);function aq(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function ar(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){aq(a,b,c[b])})}return a}var as={KEYWORD:{Component:ad,requireStore:!1,inheritProps:!0,extractProps:function(a){var b=a.firstElementChild,c=a.lastElementChild,d=b.innerHTML,e=c.textContent;return{word:d,meaning:e}}},CONCEPT:{Component:am,requireStore:!0,inheritProps:!0,extractProps:function(a){var b=a.firstElementChild,c=a.lastElementChild,d=b.innerHTML,e=c.textContent;return{word:d,name:e}}},MENTION:{Component:an.p,requireStore:!0,inheritProps:!0,extractProps:function(a){var b=a.getAttributeNames(),c={};return b.forEach(function(b){c[b]=a.getAttribute(b)}),{mentionProps:c}}},CALLOUT:{Component:ap.Z,requireStore:!0,inheritProps:!0,extractProps:function(a){var b=a.getAttribute("data-message-type"),c=a.getAttribute("data-emoji"),d=(0,h.jsx)("div",{dangerouslySetInnerHTML:{__html:a.innerHTML}});return{children:d,messageType:b,emoji:c}}},DEL:{Component:ao.Z,requireStore:!0,inheritProps:!0,extractProps:function(a){return{text:a.innerHTML,type:"DEL"}}},INS:{Component:ao.Z,requireStore:!0,inheritProps:!0,extractProps:function(a){return{text:a.innerHTML,type:"INS"}}}},at=function(a,b){var c=a.tagName;if(!(c in as))return"";var d=as[c],e=d.Component,f=d.requireStore,g=d.inheritProps,i=d.extractProps,j=ar({},g&&b,i(a)),k=(0,ac.Z)(),l=function(a){return(0,h.jsx)(ab.zt,{store:k,children:a})},m=[f?l:function(a){return a}].reduce(function(a){return function(b){return a(b)}});return m((0,h.jsx)(e,ar({},j)))},au=function(a){var b=document.createElement("span");return a.parentNode&&a.parentNode.replaceChild(b,a),b},av=function(a){return function(b){var c=at(b,a),d=au(b);aa.render(c,d)}};function aw(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var ax=["courses","modules",E.dLO.COLLECTION,E.dLO.MODULE,E.dLO.PATH,E.dLO.PLAN,],ay=["draft","cloudlab","assessment","project"],az=function(a){if(!(null==a?void 0:a.asPath))return!1;var b,c=a.asPath.split("/");return!!(c.length&&("page"===c[1]&&!ay.includes(c[c.length-1])||ax.includes(c[1])&&!((function(a){if(Array.isArray(a))return aw(a)})(b=ay)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(b)||function a(b,c){if(b){if("string"==typeof b)return aw(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return aw(b,c)}}(b)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat(["versions"]).includes(c[c.length-1])))},aA=c(69504),aB=c.n(aA),aC=function(a){for(var b,c,d,e;!((null===(c=(b=a).dataset)|| void 0===c?void 0:c.id)||"div"===b.nodeName.toLowerCase()&&(null===(d=b.classList)|| void 0===d?void 0:null===(e=d.contains)|| void 0===e?void 0:e.call(d,"conceptBody")));)a=a.parentNode;return a},aD=function(a,b){for(var c=!(arguments.length>2)|| void 0===arguments[2]||arguments[2];;){if(b){if(b.nodeType!==Node.TEXT_NODE)return aD(b,c?b.firstChild:b.lastChild,c);if(!b.textContent.trim()||"\n"===b.textContent.trim())return aD(b,c?b.nextSibling:b.previousSibling,c);return b}if(c?a.nextSibling:a.previousSibling)return aD(a,c?a.nextSibling:a.previousSibling,c);return aD(a=a.parentNode,c?a.nextSibling:a.previousSibling,c)}},aE=c(53398),aF=c(786),aG=c.n(aF),aH=c(33834),aI=c(46023),aJ=c(20888),aK=c(30788),aL=c(58060),aM=c(58332),aN=function(a){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(aM.B,{className:"absolute left-0 top-0 w-full max-w-full",emoji:a.emoji}),(0,h.jsx)("span",{className:"opacity-0",children:a.emoji})]})};function aO(a){if(a.nodeType===Node.TEXT_NODE){var b=a.textContent,c=a.parentElement;if(c.matches("[data-ed-emoji] *, [data-ed-emoji]"))return;var d=b.split((0,aM.Vg)()).map(function(a){return document.createTextNode(a)}),e=0,f=!0,g=!1,i=void 0;try{for(var j,k=b.matchAll((0,aM.Vg)())[Symbol.iterator]();!(f=(j=k.next()).done);f=!0){var l=j.value,m=(0,h.jsx)(aN,{emoji:l[0]}),n=document.createElement("span");n.setAttribute("data-ed-emoji",l[0]),n.classList.add("relative"),aa.render(m,n),d.splice(2*e+1,0,n),e++}}catch(o){g=!0,i=o}finally{try{f||null==k.return||k.return()}finally{if(g)throw i}}d.forEach(function(b){return c.insertBefore(b,a)}),c.removeChild(a)}a.childNodes.forEach(function(a){return aO(a)})}var aP=c(23726),aQ=c(67801),aR=c(51425);function aS(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function aT(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function aU(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function aV(a){return(aV=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function aW(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){aU(a,b,c[b])})}return a}function aX(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function aY(a,b){return(aY=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function aZ(a,b){if(a){if("string"==typeof a)return aS(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return aS(a,b)}}var a$=aB()(function(){return c.e(75420).then(c.bind(c,75420))},{loadableGenerated:{webpack:function(){return[75420]}}}),a_=aB()(function(){return c.e(71155).then(c.bind(c,66512))},{loadableGenerated:{webpack:function(){return[66512]}}}),a0="markdown_viewer_highlighted_content",a1="markdown_viewer_highlighted_content_with_comment",a2="markdown_viewer_highlighted_content_with_comment_clicked_or_hovered",a3=2,a4="markdown_viewer_highlighted_content_with_ask_for_help_unresolved",a5="markdown_viewer_highlighted_content_with_ask_for_help_resolved",a6=(0,ab.$j)(function(a){return{widgetsUserData:{loaded:a.user.widgetsData.loaded,loading:a.user.widgetsData.loading}}}),a7=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&aY(a,b)}(f,a);var b,d,e=(b=f,d=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c,e,f,g=aV(b);if(d){var h=aV(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return c=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(c)});function f(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,f),a=e.apply(this,arguments),a.state={selections:{},spanIdToMdChildIdMap:{},contextMenuData:null,removeSelection:null,showedDiscussionsToMentor:!1},a.dataIdOfClickedSpan=null,a.touchEnabled=!1,a.enableHighlights=a.props.saveHighlights&&az(a.props.router),a.applyClassOnGivenDataId=function(b,c){a.markdownViewer.current.querySelectorAll('[data-id="'.concat(b,'"]')).forEach(function(a){return a.classList.add(c)})},a.removeClassFromGivenDataId=function(b,c){a.markdownViewer.current.querySelectorAll('[data-id="'.concat(b,'"]')).forEach(function(a){return a.classList.remove(c)})},a.setSelectionsFromSnapshot=function(b){var c,d,e,f,g,h=(0,E.Htf)(a.props.userInfo);if((h||b.contentSnapshot)&&(!h||a.props.discussionsContext.value.loaded&&!a.props.widgetsUserData.loading&&a.props.widgetsUserData.loaded&&(!b.allowWidgetUserData||null!==b.contentSnapshot))){var i=aW({},null!==(d=a.state.selections)&& void 0!==d?d:{}),j=h?null!==(e=aW({},a.props.discussionsContext.value.allSelections.selections))&& void 0!==e?e:{}:null!==(f=aW({},null===(c=b.contentSnapshot)|| void 0===c?void 0:c.selections))&& void 0!==f?f:{};h&&!a.props.isPlan&&a.mergeDatamapSelectionsWithDiscussions(j),JSON.stringify(null!==(g=a.state.selections)&& void 0!==g?g:{})!==JSON.stringify(j)&&h&&a.setState({selections:j},function(){return a.props.discussionsContext.setCommentSending(!1)}),0===Object.keys(null!=i?i:{}).length&&a.setState({selections:j},a.highlightAll)}},a.enableTouch=function(){a.touchEnabled||(document.addEventListener("selectionchange",a.openCreateHighlightMenuDebounced),document.removeEventListener("touchstart",a.enableTouch),document.addEventListener("touchstart",a.handleOutsideClick),a.touchEnabled=!0)},a.highlightContextMenu=i.createRef(),a.markdownViewer=i.createRef(),a.parentDiv=i.createRef(),a.handleOutsideClick=function(b){if(a.touchEnabled){a.highlightContextMenu.current&&!a.highlightContextMenu.current.contains(b.target)&&a.cancelSelection();return}var c=a.parentDiv.current;c&&!c.contains(b.target)&&a.cancelSelection()},a.isAnchorHeadingLink=function(a){var b=function(a){var b=a.origin,c=a.pathname;return b+c};return b(a)===b(window.location)},a.loadMonacoEditor=function(){return aB()(function(){return Promise.all([c.e(73657),c.e(31227),c.e(181),c.e(52541)]).then(c.bind(c,181))},{loadableGenerated:{webpack:function(){return[181]}},ssr:!1}).render.preload()},a.shouldOpenInNewTab=function(b){return!a.isAnchorHeadingLink(b)},a.makeLinksToOpenInNewTab=function(){Array.from(a.markdownViewer.current.querySelectorAll("a")).filter(a.shouldOpenInNewTab).forEach(function(a){a.setAttribute("target","_blank"),a.setAttribute("rel","noopener noreferrer")})},a.removeNewLines=function(a){if(a.length){var b=a.charAt(a.length-1);("\n"===b||"\r"===b)&&(a=a.slice(0,-1))}return a},a.setIDsForMdChilds=function(){Array.from(a.markdownViewer.current.childNodes).forEach(function(b){var c=k()(b.textContent);if(b.nodeType===Node.ELEMENT_NODE)b.dataset.id=c;else if(b.nodeType===Node.TEXT_NODE&&"\n"!==b.textContent){var d=(0,aE.v)(b,c);a.markdownViewer.current.replaceChild(d,b)}})},a.getCurrentSelection=function(){var a,b,c;return null!==(c=null!==(b=null!==(a=null==window?void 0:window.getSelection())&& void 0!==a?a:null==document?void 0:document.getSelection())&& void 0!==b?b:document.selection.createRange().text)&& void 0!==c?c:null},a.getTheme=function(a){return $.Mp.includes(a)?u[$.OP[a]]:u[$.OP.default]},a.setContextMenuData=function(b){var c=arguments.length>1&& void 0!==arguments[1]&&arguments[1],d=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0,f=arguments.length>4?arguments[4]:void 0,g=arguments.length>5&& void 0!==arguments[5]&&arguments[5];if(a.markdownViewer.current){var h=a.markdownViewer.current.getBoundingClientRect(),i=null,j=null,k=20;d-h.left>h.width/2?j=h.right-d+20:i=d-h.left+20;var l=a.props,m=l.isUsedInColumn,n=l.widthOfComp,o=l.widthOfOtherComp,p=l.positionedLeft;if(m){var q=100*h.width/n*o/100;j=j&&p?j+q:j,i=i&&!p?i+q:i,k=0}a.setState(function(d){return aX(aW({},d),{contextMenuData:{edit:c,coords:{left:i,right:j,bottom:h.height+k-(e-h.top),rect:h,mouseY:e,parentTopPosition:a.markdownViewer.current.getBoundingClientRect().top},range:b,touch:f,isInsideConcept:g}})})}},a.openEditHighlightMenu=function(b,c){b.stopPropagation(),a.setContextMenuData(b.target,!0,c?b.changedTouches[0].clientX:b.clientX,c?b.changedTouches[0].clientY:b.clientY,c)},a.openCreateHighlightMenuDebounced=m()(function(b){a.openCreateHighlightMenu(b)}),a.openCreateHighlightMenu=function(b){if(b.preventDefault(),a.markdownViewer.current){var c=a.touchEnabled,d=0;try{var e=a.getCurrentSelection();if(c&&!a.markdownViewer.current.contains(e.focusNode))return;if((null==e?void 0:e.focusNode)&&!e.focusNode.tagName&&!e.isCollapsed&&e.focusNode.nodeType===Node.TEXT_NODE&&e.anchorNode&&e.anchorNode.nodeType===Node.TEXT_NODE&&""!==e.toString().trim()){var f,g,h,i,j,k,l,m,n,o,p=e.getRangeAt(0);if(!a.markdownViewer.current.contains(p.commonAncestorContainer))return;f=null===(j=p.startContainer)|| void 0===j?void 0:j.nodeValue,g=null===(k=p.endContainer)|| void 0===k?void 0:k.nodeValue,d=p.startOffset,h=null===(l=p.toString)|| void 0===l?void 0:l.call(p).length,i=null===(m=p.toString)|| void 0===m?void 0:m.call(p);var q=aC(p.startContainer),s=(null===(n=q.classList)|| void 0===n?void 0:null===(o=n.contains)|| void 0===o?void 0:o.call(n,"conceptBody"))&&q.contains(p.endContainer),t=p.getBoundingClientRect();a.setContextMenuData(p,!1,c?(t.right+t.left)/2:b.clientX,c?t.bottom:b.clientY,c,s)}else c||a.cancelSelection()}catch(u){(0,r.uX)(u,{selectionLength:h,startContainer:f,endContainer:g,startOffset:d,selectionText:i}),console.error(u,"\n ERROR AT MARKDOWN VIEWER > openCreateHighlightMenu")}}},a.isDiscussionAvailable=function(b){return a.props.discussionsContext.value.data.find(function(a){return a.id===b})},a.highlightAll=function(){var b=aW({},a.state.selections),c={},d=(0,E.Htf)(a.props.userInfo),e=Array.from(a.markdownViewer.current.children).map(function(a){return a.getAttribute("data-id")}),f=function(a,b){var c=e.indexOf(a);if(-1===c)return null;var d=c;if(Boolean(b)){var f=!0,g=!1,h=void 0;try{for(var i,j=b[Symbol.iterator]();!(f=(i=j.next()).done);f=!0){var k=i.value;if(++d>e.length||e[d]!==k)return!0}}catch(l){g=!0,h=l}finally{try{f||null==j.return||j.return()}finally{if(g)throw h}}}return!1};Object.entries(b).forEach(function(b){var e,g,h=(g=2,function(a){if(Array.isArray(a))return a}(e=b)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(e,g)||aZ(e,g)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=h[0],j=h[1],k=a.markdownViewer.current.querySelector('[data-id="'.concat(i,'"]'));!(null==k&&Array.isArray(j))&&Array.isArray(j)&&j.forEach(function(b){if(!a.props.isPlan|| !d&&(null==b?void 0:b.askForHelpId)in a.props.askForHelp||d&&a.isDiscussionAvailable(null==b?void 0:b.commentId))try{c=aX(aW({},c),aU({},b.id,i));var e,g,h,j=null===(h=b.addMdChildNodes)|| void 0===h?void 0:h.find(function(b){return null==a.markdownViewer.current.querySelector('[data-id="'.concat(b,'"]'))}),l=f(i,b.addMdChildNodes);if(null!=j||l)return;var m=a.getToContainer(k.firstChild,b.range.firstPoint),n=m.node,p=m.offset,q=a.getToContainer(k.firstChild,b.range.lastPoint),s=q.node,t=q.offset,u=document.createRange();u.setStart(n,p),u.setEnd(s,t),a.applyHighlights(u,b.comment,b.id,null,0,0,b.askForHelpId,b.commentId)}catch(v){(0,r.uX)(v,aX(aW({},b),{mdChild_Id:i})),(0,o.qP)(o.f2.INTERACTION,o.bt.INTERACTION_MD_HIGHLIGHT_NOTES_FAILED,"Highlight/Notes failed > highlightAll")}finally{null===(g=(e=a.props).setMarkdownLoaded)|| void 0===g||g.call(e,!0)}})}),a.setState({selections:b,spanIdToMdChildIdMap:c})},a.getToContainer=function(b,c){if(b.firstChild)return a.getToContainer(b.firstChild,c);if(c<=b.textContent.length&&"\n"!==b.textContent)return{node:b,offset:c};if(b.nextSibling)return a.getToContainer(b.nextSibling,c-b.textContent.length);for(var d=b;!d.parentNode.nextSibling;)d=d.parentNode;return a.getToContainer(d.parentNode.nextSibling,c-b.textContent.length)},a.editHighlight=function(b,c){var d=aW({},a.state.selections),e=a.state.spanIdToMdChildIdMap,f=b.dataset.id,g=d[e[f]].findIndex(function(a){return a.id===f}),h=d[e[f]][g];h=aG()(h,{comment:{$set:c},timestamp:{$set:Date.now()},version:{$set:a3}}),d=aG()(d,aU({},e[f],aU({},g,{$set:h}))),c?(0,o.qP)(o.f2.INTERACTION,o.bt.INTERACTION_MD_NOTE_SAVED,"NoteSaved"):(0,o.qP)(o.f2.INTERACTION,o.bt.INTERACTION_MD_HIGHLIGHTED,"Highlighted"),a.setState({selections:d},function(){a.saveHighlights(),Array.from(a.markdownViewer.current.querySelectorAll('[data-id="'.concat(f,'"]'))).forEach(function(a){a.className=c?a1:a0}),a.cancelSelection()})},a.removeHighlight=function(b){var c=aW({},a.state.selections),d=a.state.spanIdToMdChildIdMap,e=b.dataset.id,f=d[e],g=c[f].findIndex(function(a){return a.id===e}),h=c[f][g],i=h.comment,j=b.parentNode,k=h.range,l=k.firstPoint,m=k.lastPoint;i?(a.props.logWidgetInteraction({interaction_touch_point:p.Uq,paragraph_id:f,first_point:l,last_point:m}),(0,o.qP)(o.f2.INTERACTION,o.bt.INTERACTION_MD_NOTE_REMOVED,"NoteRemoved")):(a.props.logWidgetInteraction({interaction_touch_point:p.ID,paragraph_id:f,first_point:l,last_point:m}),(0,o.qP)(o.f2.INTERACTION,o.bt.INTERACTION_MD_HIGHLIGHT_REMOVED,"HighlightRemoved")),c=aG()(c,aU({},f,{$splice:[[g,1]]})),a.setState({selections:c,contextMenuData:null},function(){a.saveHighlights(),Array.from(a.markdownViewer.current.querySelectorAll('[data-id="'.concat(e,'"]'))).forEach(function(a){a.parentNode.replaceChild(a.firstChild,a)}),j.normalize()})},a.createSpanForHighlight=function(a,b){var c=document.createElement("span");return c.setAttribute("class",b),c.setAttribute("data-id",a),c},a.createDivForAskForHelp=function(a){var b=document.createElement("div");return b.setAttribute("id",a),b.setAttribute("class","inline-flex"),b},a.createHighlight=function(b){var c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null,d=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null,e=arguments.length>3&& void 0!==arguments[3]&&arguments[3];try{var f=null,g=a.getStartPoint(b.startContainer.previousSibling,b.startContainer.parentNode,b.startOffset),h=g.mdChild_Id,i=g.offset,j=i+b.toString().length,k=[],l=a.applyHighlights(b,c,f,k,i,j,d,e),m=l.spanId,n=l.updatedFirstPoint,q=l.updatedLastPoint,s=l.nodeText,t={id:m,comment:c,askForHelpId:d,range:{firstPoint:n,lastPoint:q},addMdChildNodes:k,highlightedText:s,version:a3,timestamp:Date.now()};a.setState(function(a){var b;return aX(aW({},a),{selections:aX(aW({},a.selections),aU({},h,(b=a.selections[h]||[],function(a){if(Array.isArray(a))return aS(a)}(b)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(b)||aZ(b)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([t,]))),spanIdToMdChildIdMap:aX(aW({},a.spanIdToMdChildIdMap),aU({},m,h))})},function(){if(e){a.props.discussionsContext.setSelection(aU({},h,t));return}a.saveHighlights(),a.cancelSelection(),c?(a.props.logWidgetInteraction({interaction_touch_point:p.N1,paragraph_id:h,first_point:n,last_point:q}),(0,o.qP)(o.f2.INTERACTION,o.bt.INTERACTION_MD_NOTE_SAVED,"NoteSaved")):(a.props.logWidgetInteraction({interaction_touch_point:p.sK,paragraph_id:h,first_point:n,last_point:q}),(0,o.qP)(o.f2.INTERACTION,o.bt.INTERACTION_MD_HIGHLIGHTED,"Highlighted"))})}catch(u){(0,r.uX)(u,{range:b.toString()}),(0,o.qP)(o.f2.INTERACTION,o.bt.INTERACTION_MD_HIGHLIGHT_NOTES_FAILED,"Highlight/Notes failed > createHighlight")}},a.getStartPoint=function(b,c,d){var e,f,g,h;return b?!a.isSpan(b)&&(null==b?void 0:null===(e=b.dataset)|| void 0===e?void 0:e.id)?{mdChild_Id:b.dataset.id,offset:d}:a.getStartPoint(b.previousSibling,c,d+(null!==(h=null===(f=b.textContent)|| void 0===f?void 0:f.length)&& void 0!==h?h:0)):!a.isSpan(c)&&(null==c?void 0:null===(g=c.dataset)|| void 0===g?void 0:g.id)?a.getStartPoint(c,c.parentNode,d):a.getStartPoint(c.previousSibling,c.parentNode,d)},a.applyHighlights=function(b,c){var d,e,f,g,h=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&& void 0!==arguments[3]?arguments[3]:null,j=arguments.length>4&& void 0!==arguments[4]?arguments[4]:0,k=arguments.length>5&& void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&& void 0!==arguments[6]?arguments[6]:null,m=arguments.length>7&& void 0!==arguments[7]?arguments[7]:null,n=arguments.length>8&& void 0!==arguments[8]&&arguments[8],o=h||(0,t.x0)(),p=a.props.askForHelp[l],q=a.props.discussionsContext.value.data.find(function(a){return a.id===m}),r=c?a1:(null==p?void 0:p.status)===aL.JH.RESOLVED||(null==q?void 0:q.status)===I.mP.RESOLVED?a5:l||m||n?a4:a0,s=[],u=!1,v={nodesToFilter:[],endParentNode:aC(b.endContainer),startParentNode:aC(b.startContainer)},w=null===(d=v.endParentNode.classList)|| void 0===d?void 0:null===(e=d.contains)|| void 0===e?void 0:e.call(d,"conceptBody"),x=null===(f=v.startParentNode.classList)|| void 0===f?void 0:null===(g=f.contains)|| void 0===g?void 0:g.call(f,"conceptBody"),y=k,z=j;if(x){z-=b.startOffset-1,y-=v.startParentNode.textContent.length;var A=aD(v.startParentNode,v.startParentNode.nextSibling);b.setStart(A,0)}if(w){y-=b.endOffset;var B=aD(v.endParentNode,v.endParentNode.previousSibling,!1);b.setEnd(B,B.textContent.length)}for(var C=b.startContainer;!u;)if(!(u=a.findAllTextNodesinRange(C,b.endContainer,s,i,v.nodesToFilter))){for(;!C.parentNode.nextSibling;)C=C.parentNode;C=C.parentNode.nextSibling}y-=v.nodesToFilter.reduce(function(a,b){var c;return a+(null===(c=b.textContent)|| void 0===c?void 0:c.length)},0),s[0].length>b.startOffset&&(s[0]=s[0].splitText(b.startOffset)),s[s.length-1].length>b.endOffset&&(s[s.length-1]=s[s.length-1].splitText(b.endOffset).previousSibling);var D="";return s=s.map(function(b){D="".concat(D).concat(b.textContent);var c=a.createSpanForHighlight(o,r),d=a.createDivForAskForHelp(o);return(l||m)&&b.parentNode.insertBefore(d,b),b.parentNode.insertBefore(c,b),b.parentNode.removeChild(b),(l||m)&&d.appendChild(b),c.appendChild(b),b.parentNode.onclick=function(b){if(b.target.classList.contains(a1)){var c=b.target.getAttribute("data-id");a.dataIdOfClickedSpan=c,b.target.classList.contains(a2)||a.applyClassOnGivenDataId(c,a2)}a.openEditHighlightMenu(b,!1)},b.parentNode.onmouseenter=function(b){if(b.target.classList.contains(a1)&&!b.target.classList.contains(a2)){var c=b.target.getAttribute("data-id");a.applyClassOnGivenDataId(c,a2)}},b.parentNode.onmouseleave=function(b){var c=b.target.getAttribute("data-id");b.target.classList.contains(a2)&&c!==a.dataIdOfClickedSpan&&a.removeClassFromGivenDataId(c,a2)},b.parentNode.ontouchend=function(b){return a.openEditHighlightMenu(b,!0)},b}),{spanId:o,updatedFirstPoint:z,updatedLastPoint:y,nodeText:D}},a.findAllTextNodesinRange=function(b,c,d,e){for(var f,g,h,i=arguments.length>4&& void 0!==arguments[4]?arguments[4]:[],j=!1;b&&!j;b=b.nextSibling){if(null===(f=b.classList)|| void 0===f?void 0:null===(g=f.contains)|| void 0===g?void 0:g.call(f,"conceptBody")){i.push(b);continue}b.nodeType===Node.TEXT_NODE?("\n"!==b.data&&d.push(b),b.isSameNode(c)&&(j=!0)):(e&&!a.isSpan(b)&&(null==b?void 0:null===(h=b.dataset)|| void 0===h?void 0:h.id)&&e.push(b.dataset.id),j=a.findAllTextNodesinRange(b.firstChild,c,d,e,i))}return j},a.isSpan=function(a){return"span"===a.nodeName.toLowerCase()&&(a.className===a0||a.className===a1||a.className===a4||a.className===a5)},a.cancelSelection=function(){null!==a.state.contextMenuData&&(a.dataIdOfClickedSpan&&(a.removeClassFromGivenDataId(a.dataIdOfClickedSpan,a2),a.dataIdOfClickedSpan=null),a.setState({contextMenuData:null}))},a.stopRemoveSelection=function(){a.setState({removeSelection:!1})},a.saveHighlights=function(){var b=aW({},a.state.selections);Object.keys(b).map(function(a){return b[a]=b[a].filter(function(a){return!("commentId"in a)}),b[a]}),a.props.saveHighlights({selections:b})},a.calculateBackgroundDetail=function(b){if(a.props.backgroundColor&&!a.state.backgroundDetail){var c={left:a.parentDiv.current.getBoundingClientRect().left};a.setState({backgroundDetail:c},b)}else b()},a.clearDiscussionsSelection=function(){var b=Object.values(a.props.discussionsContext.value.selection)[0];if(b){var c=a.markdownViewer.current.querySelector('[data-id="'.concat(b.id,'"]')),d=a.markdownViewer.current.querySelector('[id="'.concat(b.id,'"]')),e=c.parentNode;c.parentNode.replaceChild(c.firstChild,c),d.remove(),e.normalize()}},a.handleAskForHelp=function(b){var c,d,e,f=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null,g=a.props,i=g.router,j=g.userInfo,k=i.query,l=k.author_id,m=k.collection_id,n=k.page_id,p=(0,E.Htf)(j),q=null==j?void 0:null===(c=j.email)|| void 0===c?void 0:c.endsWith("educative.io");return f?(null===(e=(d=a.props).handleContentBlockerClick)|| void 0===e||e.call(d,f),null):(!p||Object.keys(a.props.discussionsContext.value.selection).length||E.vcf||a.createHighlight(b,null,null,!0),p?a.props.discussionsContext.value.startDiscussion&&(0,h.jsx)(a$,{document_key:a.props.discussionsContext.value.documentKey,cancelCallback:a.clearDiscussionsSelection}):(0,h.jsx)(a_,{params:{callBacks:{successCallBack:function(c){var d=JSON.parse(c).askforhelp_id;a.createHighlight(b,null,d),a.props.loadAskForHelps(),a.props.dispatch(aJ.n.show(aK.Px,{message:"".concat(p||q?"Discussion":"Blocker"," has been ").concat(p||q?"started":"raised")})),(0,o.qP)(o.f2.ONBOARDING,o.bt.BLOCKER_RAISED_TEXTUAL)},failureCallBack:function(){a.props.dispatch(aJ.n.show(aK.ad,{status:"ERROR",text:p||q?"Unable to start a Discussion":"Unable to request for Ask For Help"}))}},buttonText:p||q?"Discuss":"Ask For Help",allowInput:!0,buttonLoadingText:p||q?"Posting...":"Asking...",placeholder:"".concat(p||q?"Start a Discussion":"Describe the problem you are experiencing, and what kind of help you need."),successMessage:p||q?"Discussion request sent.":"Ask For Help request sent.",characterLimit:1e3,url:"/api/askforhelpV2?content=true",type:"POST",showArrows:!1,data:{author_id:l,collection_id:m,page_id:n,path_author_id:i.query.path_author_id,path_id:i.query.path_id,organization_id:a.props.organizationId},feedbackRequired:!0}}))},a}var j=f.prototype;return j.componentDidMount=function(){var a,b,c=null===(a=this.props.router)|| void 0===a?void 0:a.asPath.match(/#(.+)/);if(null==c?void 0:c[1])try{null===(b=this.markdownViewer.current.querySelector('[id="'.concat(decodeURIComponent(c[1]),'"]')))|| void 0===b||b.scrollIntoView()}catch(d){(0,r.uX)(d)}this.updateView()},j.componentDidUpdate=function(a){var b,c,d,e,f,g,h=(0,E.Htf)(this.props.userInfo);this.state.selections&&h&&((null===(b=this.props.router)|| void 0===b?void 0:null===(c=b.query)|| void 0===c?void 0:c.comment_id)||(null===(d=this.props.router)|| void 0===d?void 0:null===(e=d.query)|| void 0===e?void 0:e.view_blocker)==="true")&&!this.state.showedDiscussionsToMentor&&(this.props.discussionsContext.show(),this.setState({showedDiscussionsToMentor:!0})),this.enableHighlights=this.props.saveHighlights&&az(this.props.router);var i=aW({},this.props.discussionsContext.value.allSelections.selections);!this.props.isPlan&&h&&this.mergeDatamapSelectionsWithDiscussions(i),this.enableHighlights&&this.props===a&&(Object.values(this.state.selections).length||!Object.values(this.props.discussionsContext.value.allSelections.selections).length)?h&&Object.values(i).length&&JSON.stringify(this.state.selections)!==JSON.stringify(i)&&this.setState({selections:i}):this.updateView((null===(f=a.readerPreferences)|| void 0===f?void 0:f.themes)!==(null===(g=this.props.readerPreferences)|| void 0===g?void 0:g.themes))},j.componentWillUnmount=function(){this.enableHighlights&&(document.removeEventListener("mousedown",this.handleOutsideClick),this.touchEnabled&&(document.removeEventListener("selectionchange",this.openCreateHighlightMenuDebounced),document.removeEventListener("touchstart",this.handleOutsideClick)))},j.mergeDatamapSelectionsWithDiscussions=function(a){var b,c,d;for(var e in null===(b=this.props.contentSnapshot)|| void 0===b?void 0:b.selections)e in a?a[e]=a[e].concat(null===(c=this.props.contentSnapshot)|| void 0===c?void 0:c.selections[e]):a[e]=null===(d=this.props.contentSnapshot)|| void 0===d?void 0:d.selections[e]},j.setColorization=function(){var a,b=arguments.length>0&& void 0!==arguments[0]&&arguments[0],c=this;return(a=g().mark(function a(){var d,e,f,h,i,j,k,l,m,n,o,p,r,t,u,v,w,x,y,z;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=(null===(d=c.props.readerPreferences)|| void 0===d?void 0:d.themes)||"default",f="cm-viewer-markdown disable-cursor",!(Array.from(c.markdownViewer.current.querySelectorAll("pre")).filter(function(a){return a.getAttribute("class")!==f}).length||b)){a.next=48;break}return a.next=7,c.loadMonacoEditor();case 7:if(i=a.sent,j=(0,O.$z)({cookies:null===(h=c.props.cookies)|| void 0===h?void 0:h.getAll(),userInfo:c.props.userInfo,userInfoLoaded:c.props.userInfoLoaded}),k=null,!c.markdownViewer.current){a.next=48;break}l=Array.from(c.markdownViewer.current.querySelectorAll("pre")).filter(function(a){return a.getAttribute("class")!==f||b}),m=!0,n=!1,o=void 0,a.prev=13,p=l[Symbol.iterator]();case 15:if(m=(r=p.next()).done){a.next=34;break}if(t=r.value,u=c.getTheme(e),!(!(null==(v=t.firstElementChild)?void 0:v.textContent)||v.textContent.length<1)){a.next=21;break}return a.abrupt("continue",31);case 21:if(b||(t.setAttribute("class",f),w=v.getAttribute("class")?v.getAttribute("class").replace("language-",""):$.X9,k=(0,s.Yd)(null==w?void 0:w.toLowerCase()),v.setAttribute("data-lang",k)),x=c.removeNewLines(v.textContent),y=c.props.collectionType===E.dLO.SKILL_ASSESSMENT?" color: ".concat(aI.colors.secondary.darkN2,";"):"",z=c.props.collectionType===E.dLO.SKILL_ASSESSMENT?j!==E.gaB.DARK_MODE?aI.colors.gray[50]:aI.colors.dark[90]:u.background,t.setAttribute("style","background-color: ".concat(z,"; border-radius: ").concat(q.Bn,";").concat(y)),v.textContent=x,a.t0=c.props.collectionType!==E.dLO.SKILL_ASSESSMENT,!a.t0){a.next=31;break}return a.next=31,i.default.colorize(v,{theme:u.name});case 31:m=!0,a.next=15;break;case 34:a.next=40;break;case 36:a.prev=36,a.t1=a.catch(13),n=!0,o=a.t1;case 40:a.prev=40,a.prev=41,m||null==p.return||p.return();case 43:if(a.prev=43,!n){a.next=46;break}throw o;case 46:return a.finish(43);case 47:return a.finish(40);case 48:c.markdownViewer.current&&(c.props.openLinksInNewTab&&c.makeLinksToOpenInNewTab(),c.enableHighlights&&(c.setIDsForMdChilds(),document.addEventListener("mousedown",c.handleOutsideClick),document.addEventListener("touchstart",c.enableTouch)));case 49:case"end":return a.stop()}},a,null,[[13,36,40,48],[41,,43,47]])}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){aT(f,d,e,g,h,"next",a)}function h(a){aT(f,d,e,g,h,"throw",a)}g(void 0)})})()},j.updateView=function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0],b=this;this.renderCustomElements(),this.props.showEmoji&&aO(this.markdownViewer.current),this.promise||(this.promise=this.setColorization(a),this.promise.then(function(){b.promise=null,b.calculateBackgroundDetail(function(){return b.setSelectionsFromSnapshot(b.props)})}))},j.renderCustomElements=function(){var a,b=this;Array.from((0,ao.X)(this.markdownViewer.current)).forEach(function(a,c){av(aX(aW({},b.props),{elemId:c}))(a)}),Array.from(null===(a=this.markdownViewer.current)|| void 0===a?void 0:a.querySelectorAll("keyword, concept, mention, callout")).forEach(av(this.props))},j.render=function(){var a,b=this.state,c=b.contextMenuData,d=b.selections,e=b.removeSelection,f=b.spanIdToMdChildIdMap,g=b.backgroundDetail,i=this.props,j=i.isShot,k=i.backgroundColor,l=i.isQuiz,m=i.isStructuredQuiz,n=i.structuredQuizTitle,o=i.isUsedInColumn,p=i.isPlan,q=i.config,r=i.isMentee,s=i.askForHelp,t=i.isTableHTML,u=i.userInfo,w=(0,E.Htf)(u),x=r|| !w&&Object.keys(null!=s?s:{}).length>0||w&&!!this.props.discussionsContext.value.data.length,y=!w||!this.props.discussionsContext.value.isCommentSending;y||this.cancelSelection();var z=!this.props.loggedOut&&(this.props.widgetsUserData.loading||!this.props.widgetsUserData.loaded);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"".concat(o?"h-full":"h-auto"," w-full whitespace-normal after:clear-both after:table after:content-none ").concat(m?"overflow-x-auto":"markdown-container-div".concat(this.props.collectionType===E.dLO.SKILL_ASSESSMENT?"".concat(this.props.isStatement?" my-6 sm:px-10":(null===(a=this.props.config)|| void 0===a?void 0:a.pageType)===E.qen.ASSESSMENT?"":" px-4"):"")),ref:this.parentDiv,children:[k&&g&&(0,h.jsx)("div",{style:{right:0,left:-1*g.left,top:0,bottom:0,width:"calc(100vw + ".concat(g.left,"px)"),position:"absolute",backgroundColor:k,zIndex:v.Kv,height:o?"100%":"auto"}}),!this.props.lockedResource&&y&&c&&(!p||x)&&!t&&(0,h.jsx)(Z,{ref:this.highlightContextMenu,closeMenu:this.cancelSelection,onHighlightCreate:this.createHighlight,onHighlightEdit:this.editHighlight,onHighlightRemove:this.removeHighlight,selections:d,spanToMdChild:f,menuData:c,removeSelection:!!e,onStopRemoveSelection:this.stopRemoveSelection,isPlan:p,handleAskForHelp:this.handleAskForHelp,isMentee:r,askForHelp:s,enableDiscussions:w,waitingForWidgetsUserData:z}),l?(0,h.jsx)("span",{className:"text-base",children:(0,h.jsx)(_.Wj,{structuredQuizTitle:n,className:"markdownViewerQuiz",ref:this.markdownViewer,role:"none",onMouseUp:this.enableHighlights&&!j?this.openCreateHighlightMenu:function(){},dangerouslySetInnerHTML:{__html:this.props.mdHtml}})}):(0,h.jsx)(_.AE,{className:"markdownViewer select-text ".concat(this.props.collectionType===E.dLO.SKILL_ASSESSMENT?"flex-col px-4 sm:px-0":""),id:E.FzT?this.props.id:null,ref:this.markdownViewer,role:"none",onMouseUp:this.enableHighlights&&!j?this.openCreateHighlightMenu:function(){},renderedInTOC:this.props.renderedInTOC,setHeight:this.props.isUsedInColumn,dangerouslySetInnerHTML:{__html:this.props.mdHtml},alignCenter:this.props.alignCenter,isStatement:this.props.isStatement,collectionType:this.props.collectionType,isSlateHTML:this.props.isSlateHTML,isProjectPage:q.pageType===E.qen.PROJECT,isMarketingPage:this.props.isMarketingPage,customStyles:this.props.customStyles})]})})},f}(i.Component);a7.defaultProps={openLinksInNewTab:!0,saveHighlights:null,docker:{container:{liveInstance:{}}},logWidgetInteraction:function(){return null},isShot:!1,backgroundColor:null,isQuiz:!1,isStructuredQuiz:!1,structuredQuizTitle:!1,renderedInTOC:!1,isUsedInColumn:!1,conceptIdBacktrace:[],widthOfComp:50,widthOfOtherComp:50,isSlateHTML:!1,alignCenter:!1,isStatement:!1,collectionType:E.dLO.COLLECTION,isPlan:!1,config:{},askForHelp:{},allowWidgetUserData:!1,lockedResource:!1,customStyles:""};var a8=function(a){var b=(0,aQ.ET)(),c=i.useContext(I.nZ),d=i.useContext(aR.wr).userInfoState;return(0,h.jsx)(a7,aX(aW({},a),{readerPreferences:b,discussionsContext:c,userInfo:d.data,userInfoLoaded:d.loaded,loggedOut:d.loggedOut}))},a9=(0,aP.Ux)((0,n.withRouter)(a6((0,aH.Z)(a8))))},98283:function(a,b){"use strict";b.Z={caption:"",characterLimit:0,editorText:[{type:"paragraph",children:[{text:""}]}],placeholderText:"",title:"",version:"1.0",systemPrompt:"",initialPrompt:"",turnLimit:2,enableAI:!1}},56319:function(a,b,c){"use strict";c.d(b,{"$F":function(){return p},F2:function(){return n},ID:function(){return j},N1:function(){return k},Rp:function(){return d},Rv:function(){return h},S8:function(){return e},UO:function(){return m},Uq:function(){return i},Wt:function(){return r},jD:function(){return f},pi:function(){return q},sK:function(){return l},w0:function(){return o},xp:function(){return g}});var d="FILE_DOWNLOAD",e="FILE_OPEN",f="HINT_VIEW",g="HINT_HIDE",h="IMAGE_ZOOM",i="MD_NOTE_REMOVED",j="MD_HIGHLIGHT_REMOVED",k="MD_NOTE_SAVED",l="MD_HIGHLIGHTED",m="SOLUTION_VIEWED",n="RUN",o="JUDGE",p="MACHINE_ALLOCATE",q="CODE_EXECUTE",r="OUTPUT_GENERATE"},47242:function(a,b,c){"use strict";c.d(b,{Z:function(){return G},L:function(){return C}});var d=c(20348),e=c(89703),f=c(50823),g=c(53578),h=c(5570),i=c(77248),j=c(98283),k=c(91724),l=c(29143),m=c(22215),n=c(12064),o=c(13301),p=c(43552);function q(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var r=function(){return(0,d.jsx)("div",{className:"m-2 h-5 border border-r-0 border-solid border-gray-200 dark:border-gray-A200"})},s=[{allowBoldHeader:!0,format:"bold",icon:l.Z,isMark:!0,tooltipText:"Bold",shortcut:"mod B"},{format:"italic",icon:o.Z,isMark:!0,tooltipText:"Italic",shortcut:"mod I"},{format:"underlined",icon:m.Z,isMark:!0,tooltipText:"Underline",shortcut:"mod U"},{format:"Mark-Separator",type:"Vertical-Separator"},{format:"bulleted-list",icon:p.QI,tooltipText:"Bullet List",shortcut:"mod shift 8"},{format:"numbered-list",icon:p.GS,tooltipText:"Numbered List"},{format:"Mark-Separator",type:"Vertical-Separator"},{format:"clear-format",icon:n.Z,tooltipText:"Clear Formatting"},],t=function(a){var b=a.className,c=a.toolbarClassName;return(0,d.jsx)("div",{className:void 0===b?"":b,children:(0,d.jsx)("div",{className:"no-scrollbar ".concat(void 0===c?"":c),children:s.map(function(a){var b,c;return"Vertical-Separator"===a.type?(0,d.jsx)(r,{},a.format):(0,d.jsx)(k.Z,(b=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){q(a,b,c[b])})}return a}({},a),c=(c={fillBackground:!0,smallTooltip:!0},c),Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(c)).forEach(function(a){Object.defineProperty(b,a,Object.getOwnPropertyDescriptor(c,a))}),b),a.format)})})})},u=c(17900),v=c(19289),w=c(68830),x=c(9016),y=c(6143),z=c(62176),A=c(1767);function B(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var C=function(a,b){if(a&&b===A.HIGHLIGHT_VERSION)try{return JSON.parse(a)}catch(c){}return[(0,x.getDefaultParagraphNode)(a)]},D=(0,d.jsx)(t,{className:"sm:order-first sm:h-auto sm:w-full lg:order-none",toolbarClassName:"flex sm:justify-around lg:justify-start"}),E=(0,d.jsx)("div",{className:"lg:h-13 flex-row flex-wrap items-center justify-between sm:flex lg:flex-nowrap lg:px-2",children:D}),F=function(a){var b,c,k=a.characterLimit,l=a.placeholder,m=a.onEditorValueChange,n=a.initialEditorValue,o=n||[(0,x.getDefaultParagraphNode)(""),],p=(0,e.useRef)(o),q=function(a){m(a);var b=u.NB.string(A);F(G?j.Z.characterLimit:k-b.length)},r=(0,e.useState)(0),s=r[0],t=r[1],A=(0,e.useMemo)(function(){return t(function(a){return 0===a?1:0}),(0,h.JW)([w.BU,v.VC,y.T,(0,g.q)(k),],(0,u.Jh)())},[]),C=(b=e.useState(0),c=2,function(a){if(Array.isArray(a))return a}(b)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(b,c)||function a(b,c){if(b){if("string"==typeof b)return B(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return B(b,c)}}(b,c)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),D=C[0],F=C[1],G=k===j.Z.characterLimit;(0,e.useEffect)(function(){var a=u.NB.string(A);F(G?j.Z.characterLimit:k-a.length)},[]);var H=G?"":"".concat(D," character").concat(1===D?"":"s"," left"),I=H&&(0,d.jsx)("aside",{"data-testid":"character-limit-test-id",className:"ml-1 mt-1 font-semibold ".concat(D<=0?"text-error dark:text-error-light":"text-gray-A200 dark:text-gray-500"),children:H});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"dark:border-primaryP1 rounded border-2 border-solid border-primary-light bg-gray-50 dark:bg-dark",children:(0,d.jsx)(f.Z,{shouldAutoFocus:!0,editor:A,initialValue:p.current,onChange:q,plugins:[i.A,y.U,z.q],editableSiblingBelow:E,pluginProps:{notepadPluginPropsForNotesAndHighlights:{placeholder:l,characterLimit:k}}},s)}),I]})},G=F},94835:function(a,b,c){"use strict";var d=c(20348),e=c(89703),f=c(68830),g=c(19289),h=c(17900),i=c(50823),j=c(5570),k=c(6143);function l(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var m=function(a){var b,c,m=a.noteContent,n=a.callbackOnRenderOrUpdate,o=(b=e.useState(function(){return(0,j.JW)([f.BU,g.VC,k.T],(0,h.Jh)())}),c=1,function(a){if(Array.isArray(a))return a}(b)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(b,c)||function a(b,c){if(b){if("string"==typeof b)return l(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return l(b,c)}}(b,c)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=o[0];return(0,d.jsx)(i.Z,{callbackOnRenderOrUpdate:n,editor:p,readOnly:!0,plugins:[k.U],initialValue:m,pluginProps:{formattingPluginProps:{Default:function(a){return a.children}}}})};b.Z=m},51323:function(a,b,c){"use strict";c.d(b,{Yd:function(){return k},"_e":function(){return j},ms:function(){return i}});var d=c(59818),e=c.n(d);function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var g={tsx:"typescript",jsx:"javascript",mjs:"javascript",asm:"gap"},h={cpp:"cpp",cs:"csharp",hs:"haskell",ocaml:"ocaml",erl:"erlang",kt:"kotlin",scss:"scss",sass:"sass-original",php:"php",re:"c",rs:"rust",sql:"sql",jenkinsfile:"groovy",asm:"assembly",vue:"html",svelte:"html",bzl:"python",bazel:"python"},i=function(a){var b=!(arguments.length>1)|| void 0===arguments[1]||arguments[1],c=b?function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){f(a,b,c[b])})}return a}({},g,h):g;try{var d=a.split(".").pop();if(c[d])return c[d];return e().languages(d)[0]}catch(i){return null}},j=function(a){var b,c=a.selectedIndex,d=a.additionalContent;return c>0&&c<=d.length?null==d?void 0:null===(b=d[c-1])|| void 0===b?void 0:b.fileName:null==a?void 0:a.entryFileName},k=function(a){switch(a){case"python3":case"py":return"python";case"c++":return"cpp";case"c#":return"csharp";case"jenkinsfile":return"groovy";case"js":return"javascript";case"erl":return"erlang";case"sass":return"sass-original";default:return h[a]||g[a]||a}}},51398:function(a){a.exports={"menu-text-preview":"HighlightContextMenu_menu-text-preview__fWWZ3"}},76708:function(a){a.exports={"rte-headers":"Notepad_rte-headers__HR1tZ","rte-text":"Notepad_rte-text__nPzE3"}},18795:function(a,b,c){"use strict";var d,e=c(89703);function f(){return(f=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var g=function(a){return e.createElement("svg",f({width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},a),d||(d=e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 3l1 1H19v2H5V4h3.5l1-1h5zM6 19c0 1.1.9 2 2 2h8a2 2 0 002-2V7H6v12zM8 9h8v10H8V9z",fill:"current"})))};b.Z=g},18293:function(a,b,c){"use strict";var d,e=c(89703);function f(){return(f=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var g=function(a){return e.createElement("svg",f({width:20,height:20,viewBox:"0 0 20 20",fill:"current",xmlns:"http://www.w3.org/2000/svg"},a),d||(d=e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 0H1C0.45 0 0 0.45 0 1V15L4 11H14C14.55 11 15 10.55 15 10V1C15 0.45 14.55 0 14 0ZM13 2V9H3.17L2.58 9.59L2 10.17V2H13ZM17 4H19C19.55 4 20 4.45 20 5V20L16 16H5C4.45 16 4 15.55 4 15V13H17V4Z",fill:"current"})))};b.Z=g},17266:function(a,b,c){"use strict";var d,e=c(89703);function f(){return(f=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var g=function(a){return e.createElement("svg",f({width:18,height:22,viewBox:"0 0 18 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"fill-current"},a),d||(d=e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0.5H16C17.1 0.5 18 1.4 18 2.5V16.5C18 17.6 17.1 18.5 16 18.5H12L9 21.5L6 18.5H2C0.89 18.5 0 17.6 0 16.5V2.5C0 1.4 0.89 0.5 2 0.5ZM11.17 16.5H16V2.5H2V16.5H6.83L7.41 17.08L9 18.67L10.58 17.09L11.17 16.5ZM8.16675 5.2H9.83342V10.2H8.16675V5.2ZM9.83342 11.8665H8.16675V13.5332H9.83342V11.8665Z"})))};b.Z=g}}])
//# sourceMappingURL=93039-5b90fdf81ed82ac8.js.map